<div class="header">
  <h1>INVESTMENTOS</h1>
</div>

<div class="content-container">
  <div class="card">
    <div class="card-body p-0">
      <table class="table table-hover mb-0">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">NOME</th>
            <th scope="col">OBJETIVO</th>
            <th scope="col">SALDO</th>
            <th scope="col"></th>
          </tr>
        </thead>
        <tbody>
          @for (investment of investments; track investment.nome) {
            <tr
              [class.disabled]="isDisabled(investment)"
              [class.clickable]="!isDisabled(investment)"
              (click)="onInvestmentClick(investment)"
              
              [style.opacity]="isDisabled(investment) ? '0.6' : '1'">
              <td>{{ $index + 1 }}</td>
              <td>{{ investment.nome }}</td>
              <td>{{ investment.objetivo }}</td>
              <td>{{ formatCurrency(investment.saldoTotal) }}</td>
              <td class="text-end" (click)="$event.stopPropagation()">
                <div class="action-buttons justify-content-end">
                  <button
                    type="button"
                    class="btn-action view"
                    [disabled]="isDisabled(investment)"
                    (click)="onView(investment)"
                    aria-label="Visualizar investmento"
                    title="Visualizar">
                    <i class="bi bi-search" style="font-size: 1rem;"></i>
                  </button>
                  <button
                    type="button"
                    class="btn-action edit"
                    [disabled]="isDisabled(investment)"
                    (click)="onEdit(investment)"
                    aria-label="Editar investmento"
                    title="Editar">
                    <i class="bi bi-pencil" style="font-size: 1rem;"></i>
                  </button>
                  <button
                    type="button"
                    class="btn-action delete"
                    [disabled]="isDisabled(investment)"
                    (click)="onDelete(investment)"
                    aria-label="Excluir investmento"
                    title="Excluir">
                    <i class="bi bi-trash" style="font-size: 1rem;"></i>
                  </button>
                </div>
              </td>
            </tr>
          } @empty {
            <tr>
              <td colspan="5" class="text-center py-4">
                <p class="text-muted mb-0">Nenhum investmento encontrado.</p>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</div>
